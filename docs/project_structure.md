# Project Structure Documentation

## Directory Structure

```
SE ReqGraph/
â”œâ”€â”€ ğŸ“ scripts/                 # Python scripts and utilities
â”‚   â”œâ”€â”€ init.py                 # Database initialization script
â”‚   â”œâ”€â”€ hybrid_rag.py           # Fast RAG with embeddings (recommended)
â”‚   â”œâ”€â”€ rag_query.py            # Original RAG with full LLM
â”‚   â”œâ”€â”€ excel_to_json.py        # Excel to JSON converter
â”‚   â”œâ”€â”€ test_rag.py             # Basic RAG testing
â”‚   â”œâ”€â”€ test_rag_complete.py    # Comprehensive RAG testing
â”‚   â””â”€â”€ update_excel.py         # Excel file update utilities
â”œâ”€â”€ ğŸ“ data/                    # Data files and spreadsheets
â”‚   â”œâ”€â”€ graph_model_sample.xlsx # Main project graph data
â”‚   â””â”€â”€ project graph.xlsx      # Alternative data file
â”œâ”€â”€ ğŸ“ exports/                 # Generated outputs and exports
â”‚   â””â”€â”€ *.json                  # JSON exports from Excel data
â”œâ”€â”€ ğŸ“ docs/                    # Documentation and diagrams
â”‚   â”œâ”€â”€ graph.png               # Graph model visualization
â”‚   â””â”€â”€ project_structure.md    # This file
â”œâ”€â”€ ğŸ“ config/                  # Configuration templates and files
â”‚   â”œâ”€â”€ .env.example            # Environment variables template
â”‚   â””â”€â”€ full.cypher             # Complete Cypher query collection
â”œâ”€â”€ ğŸ“ tests/                   # Test files and utilities (future)
â”œâ”€â”€ .env                        # Environment configuration (private)
â”œâ”€â”€ .gitignore                  # Git ignore rules
â”œâ”€â”€ requirements.txt            # Python dependencies
â””â”€â”€ README.md                   # Main project documentation
```

## File Descriptions

### Core Scripts

#### `scripts/init.py`
- **Purpose**: Initialize Neo4j database with Excel data
- **Usage**: `python scripts/init.py`
- **Features**: 
  - Clears existing database
  - Creates nodes from Excel sheets
  - Establishes relationships based on predefined rules
  - Verifies data integrity

#### `scripts/hybrid_rag.py` âš¡ **Recommended**
- **Purpose**: Fast RAG system using embeddings + templates
- **Usage**: `python scripts/hybrid_rag.py`
- **Performance**: < 1 second for common queries
- **Features**:
  - Pre-built query templates for common questions
  - Vector similarity matching
  - LLM fallback for complex queries
  - Interactive session mode

#### `scripts/rag_query.py`
- **Purpose**: Full LLM-powered RAG system
- **Usage**: `python scripts/rag_query.py`
- **Performance**: 3-5 seconds per query
- **Features**:
  - Full natural language processing
  - Dynamic Cypher generation
  - Comprehensive error handling
  - Demo and single query modes

#### `scripts/excel_to_json.py`
- **Purpose**: Convert Excel data to structured JSON
- **Usage**: `python scripts/excel_to_json.py`
- **Features**:
  - Data quality analysis
  - Schema analysis
  - Multiple export formats
  - Statistical summaries

### Data Files

#### `data/graph_model_sample.xlsx`
- **Purpose**: Main Excel template with project graph data
- **Contains**: All node types and relationships for requirements modeling
- **Sheets**: Project, Stakeholder, Feature, Functional_Requirement, Domain_Knowledge, etc.

#### `data/project graph.xlsx`
- **Purpose**: Alternative project data file
- **Usage**: Secondary data source or backup

### Configuration

#### `config/.env.example`
- **Purpose**: Template for environment variables
- **Usage**: Copy to `.env` in root directory and customize
- **Contains**: Neo4j credentials, file paths, API keys

#### `config/full.cypher`
- **Purpose**: Complete collection of Cypher queries
- **Usage**: Manual database operations and reference
- **Contains**: Complex queries for advanced data analysis

### Exports

#### `exports/*.json`
- **Purpose**: Structured JSON exports from Excel data
- **Generated by**: `excel_to_json.py`
- **Contains**: Complete project graph data in JSON format
- **Uses**: Data backup, API integration, analysis

## Workflow

### Initial Setup
1. Install dependencies: `pip install -r requirements.txt`
2. Configure environment: Copy `config/.env.example` to `.env`
3. Add your Neo4j credentials to `.env`
4. Install Ollama and pull models (for RAG)

### Data Management
1. **Import**: Place Excel files in `data/` folder
2. **Initialize**: Run `python scripts/init.py`
3. **Export**: Run `python scripts/excel_to_json.py` for JSON backup
4. **Query**: Use `python scripts/hybrid_rag.py` for fast queries

### Development
1. **Test**: Use files in `tests/` folder for validation
2. **Modify**: Edit scripts in `scripts/` folder
3. **Document**: Update files in `docs/` folder
4. **Export**: Generated files go to `exports/` folder

## Dependencies

### Core Requirements
- **pandas**: Excel file processing
- **neo4j**: Database connectivity
- **python-dotenv**: Environment variable management

### RAG Requirements
- **langchain**: LLM framework
- **langchain-community**: Community LLM integrations
- **ollama**: Local LLM client
- **sentence-transformers**: Fast embeddings
- **scikit-learn**: Vector similarity calculations

### Optional
- **openpyxl**: Advanced Excel operations
- **jupyter**: Notebook-based analysis

## Best Practices

### File Organization
- Keep scripts in `scripts/` folder
- Store data files in `data/` folder
- Export outputs to `exports/` folder
- Document changes in `docs/` folder

### Configuration Management
- Never commit `.env` file to version control
- Use `config/.env.example` as template
- Store sensitive data only in `.env`

### Development
- Test changes with `test_*.py` files
- Use hybrid RAG for performance
- Export data regularly for backup
- Document new features in README.md

## Performance Notes

### RAG System Performance
- **Hybrid RAG**: < 1 second (recommended)
- **Original RAG**: 3-5 seconds (comprehensive)
- **Template matching**: ~90% accuracy for common queries
- **LLM fallback**: Available for complex questions

### Database Performance
- **Node creation**: ~100-500 nodes/second
- **Relationship creation**: ~50-200 relationships/second
- **Query performance**: Depends on graph complexity
- **Memory usage**: ~50-100MB for typical projects